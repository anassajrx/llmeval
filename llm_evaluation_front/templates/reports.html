{% extends "base.html" %}

{% block title %}Rapports | Système d'Évaluation LLM{% endblock %}
{% block reports_active %}active{% endblock %}
{% block page_title %}Rapports{% endblock %}

{% block content %}
<div class="reports-container">
    <div class="report-filters">
        <h3>Filtres</h3>
        <div class="filter-form">
            <div class="filter-group">
                <label for="date-from">Date du:</label>
                <input type="date" id="date-from" class="form-control">
            </div>
            <div class="filter-group">
                <label for="date-to">Au:</label>
                <input type="date" id="date-to" class="form-control">
            </div>
            <div class="filter-group" id="evaluation-filter-container">
                <label for="evaluation-filter">Évaluation:</label>
                <select id="evaluation-filter" class="form-control"></select>
            </div>
            <div class="filter-group" id="document-filter-container">
                <label for="document-filter">Document:</label>
                <select id="document-filter" class="form-control"></select>
            </div>
            <button id="apply-filters-btn" class="primary-btn">Appliquer</button>
            <button id="reset-filters-btn" class="secondary-btn">Réinitialiser</button>
        </div>
    </div>
    
    <div class="reports-list">
        <h3>Rapports disponibles</h3>
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ID Rapport</th>
                        <th>Date</th>
                        <th>Évaluation</th>
                        <th>Documents</th>
                        <th>QCM</th>
                        <th>Score</th>
                        <th>Format</th>
                        <th style="width: 180px;">Actions</th>
                    </tr>
                </thead>
                <tbody id="reports-table-body">
                    <tr>
                        <td colspan="8" class="empty-state">Aucun rapport disponible</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="report-viewer" id="report-viewer">
        <h3>Visualisation du rapport</h3>
        <div class="report-actions">
            <div class="download-options">
                <button id="download-html-btn" class="action-btn" disabled><i class="fas fa-download"></i> HTML</button>
                <button id="download-json-btn" class="action-btn" disabled><i class="fas fa-download"></i> JSON</button>
                <button id="download-csv-btn" class="action-btn" disabled><i class="fas fa-download"></i> CSV</button>
            </div>
        </div>
        <div class="report-content" id="report-content">
            <div class="report-placeholder">Sélectionnez un rapport pour le visualiser</div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="/static/js/reports.js"></script>
{% endblock %}